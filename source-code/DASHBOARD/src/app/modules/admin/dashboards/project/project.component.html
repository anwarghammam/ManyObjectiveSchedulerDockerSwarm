<style>
    .alert-toast {
        -webkit-animation: slide-in-right 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
        animation: slide-in-right 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
    }

    .alert-toast input:checked~* {
        -webkit-animation: fade-out-right 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
        animation: fade-out-right 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
    }

    @-webkit-keyframes slide-in-top {
        0% {
            -webkit-transform: translateY(-1000px);
            transform: translateY(-1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }
    }

    @keyframes slide-in-top {
        0% {
            -webkit-transform: translateY(-1000px);
            transform: translateY(-1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }
    }

    @-webkit-keyframes slide-out-top {
        0% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateY(-1000px);
            transform: translateY(-1000px);
            opacity: 0
        }
    }

    @keyframes slide-out-top {
        0% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateY(-1000px);
            transform: translateY(-1000px);
            opacity: 0
        }
    }

    @-webkit-keyframes slide-in-bottom {
        0% {
            -webkit-transform: translateY(1000px);
            transform: translateY(1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }
    }

    @keyframes slide-in-bottom {
        0% {
            -webkit-transform: translateY(1000px);
            transform: translateY(1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }
    }

    @-webkit-keyframes slide-out-bottom {
        0% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateY(1000px);
            transform: translateY(1000px);
            opacity: 0
        }
    }

    @keyframes slide-out-bottom {
        0% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateY(1000px);
            transform: translateY(1000px);
            opacity: 0
        }
    }

    @-webkit-keyframes slide-in-right {
        0% {
            -webkit-transform: translateX(1000px);
            transform: translateX(1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateX(0);
            transform: translateX(0);
            opacity: 1
        }
    }

    @keyframes slide-in-right {
        0% {
            -webkit-transform: translateX(1000px);
            transform: translateX(1000px);
            opacity: 0
        }

        100% {
            -webkit-transform: translateX(0);
            transform: translateX(0);
            opacity: 1
        }
    }

    @-webkit-keyframes fade-out-right {
        0% {
            -webkit-transform: translateX(0);
            transform: translateX(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateX(50px);
            transform: translateX(50px);
            opacity: 0
        }
    }

    @keyframes fade-out-right {
        0% {
            -webkit-transform: translateX(0);
            transform: translateX(0);
            opacity: 1
        }

        100% {
            -webkit-transform: translateX(50px);
            transform: translateX(50px);
            opacity: 0
        }
    }
</style>
<meta http-equiv="X-UA-Compatible" content="chrome=1, IE=edge">
<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div style="text-align: right; margin-top: 15px; margin-bottom: -25px;">

                <button (click)="showNotification1('top','center')"
                    class="bg-blue-900 hover:bg-blue-800 text-white font-bold py-2 px-4 fuse-mat-button-rounded inline-flex items-center"
                    mat-flat-button>
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                            clip-rule="evenodd"></path>
                    </svg> <span>Default Scheduler</span>
                </button>

            </div>
            <div *ngIf="click1==true" class="alert-toast center" style=" width: 40%; align-self: center; " role="alert">
                <input type="checkbox" class="hidden" id="footertoast">

                <label
                    class="flex close cursor-pointer flex items-start bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md"
                    title="close" for="footertoast">
                    <p class="font-bold">Back to the default scheduler ! Please wait</p>
                </label>
            </div>

            <div *ngIf="this.StatusMsg!=''" class="alert-toast center" style=" width: 40%; align-self: center; " role="alert">
                <input type="checkbox" class="hidden" id="footertoast">

                <label
                    class="flex close cursor-pointer flex items-start bg-pink-100 border-t-4 border-pink-500 rounded-b text-pink-900 px-4 py-3 shadow-md"
                    title="close" for="footertoast">
                    <p class="font-bold">{{this.StatusMsg}}</p>
                </label>
            </div>



            <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12">
                <!-- Avatar and name -->

                <!-- Main -->
                <div class="flex-auto border-t -mt-px pt-4 sm:pt-6">
                    <div class="w-full max-w-screen-xl mx-auto">
                        <!-- Tabs -->
                        <mat-tab-group class="sm:px-2" [animationDuration]="'0'">




                            <mat-tab label="Real time Resource Consumption Per Node">
                                <ng-template matTabContent>
                                    <!-- Budget -->
                                    <div class="  flex flex-col flex-auto p-6 bg-card rounded-2xl shadow">


                                        <canvas id="myChart"> </canvas>
                                        <canvas id="myChart2"> </canvas>
                                        <canvas id="myChart5"> </canvas>
                                        <canvas id="myChart3"> </canvas>
                                        <canvas id="myChart4"> </canvas>
                                        <canvas id="myChart6"> </canvas>

                                    </div>
                                </ng-template>
                            </mat-tab>


                            <mat-tab label="Resource consumption Per Node">
                                <ng-template matTabContent>
                                    <div
                                        class="sm:col-span-12 md:col-span-12 lg:col-span-12 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">

                                        <div
                                            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 ">
                                            <!-- Summary -->
                                            <div
                                                class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                                <div class="flex items-start justify-between">
                                                    <div
                                                        class="text-base font-medium tracking-tight leading-6 truncate">
                                                        Number Of Services</div>

                                                    <div>
                                                        <br>
                                                        <br>
                                                    </div>
                                                </div>

                                                <div class="flex flex-col items-center mt-2">
                                                    <div
                                                        class="text-5xl sm:text-5xl font-bold tracking-tight leading-none text-blue-500">
                                                        {{services}}</div>
                                                    <div class="text-lg font-medium text-blue-600 dark:text-blue-500">
                                                        Services</div>

                                                </div>
                                            </div>
                                            <!-- Overdue -->
                                            <div
                                                class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                                <div class="flex items-start justify-between">
                                                    <div
                                                        class="text-base font-medium tracking-tight leading-6 truncate">
                                                        Number Of Containers</div>

                                                </div>

                                                <br>
                                                <div class="flex flex-col items-center mt-2">
                                                    <div
                                                        class="text-5xl sm:text-5xl font-bold tracking-tight leading-none text-red-500">
                                                        {{total_containers}}</div>
                                                    <div class="text-lg font-medium text-red-600 dark:text-red-500">
                                                        Running
                                                        Containers</div>

                                                </div>
                                            </div>
                                            <!-- Issues -->
                                            <div
                                                class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                                <div class="flex items-start justify-between">
                                                    <div
                                                        class="text-base font-medium tracking-tight leading-6 truncate">
                                                        Total
                                                        Consumed Memory</div>
                                                </div>
                                                <br>
                                                <div class="flex flex-col items-center mt-2">
                                                    <div
                                                        class="text-5xl sm:text-5xl font-bold tracking-tight leading-none text-amber-500">
                                                        {{consumed_mem}}%</div>
                                                    <div class="text-lg font-medium text-amber-600 dark:text-amber-500">
                                                        for
                                                        the last 5 minutes</div>
                                                </div>
                                            </div>
                                            <!-- Features -->
                                            <div
                                                class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                                <div class="flex items-start justify-between">
                                                    <div
                                                        class="text-base font-medium tracking-tight leading-6 truncate">
                                                        Total
                                                        consumed CPU</div>

                                                </div>
                                                <br>
                                                <div class="flex flex-col items-center mt-2">
                                                    <div
                                                        class="text-5xl sm:text-5xl font-bold tracking-tight leading-none text-green-500">
                                                        {{consumed_cpu}}%
                                                    </div>
                                                    <div class="text-lg font-medium text-green-600 dark:text-green-500">
                                                        for
                                                        the last 5 minutes</div>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <!-- Task distribution -->
                                        <div
                                            class="sm:col-span-12 md:col-span-12 lg:col-span-12 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                            <div class="flex flex-col sm:flex-row items-start justify-between">
                                                <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                                    Containers Distribution</div>
                                                <div class="mt-3 sm:mt-0 sm:ml-2">
                                                    <mat-button-toggle-group value="this-week"
                                                        #taskDistributionWeekSelector="matButtonToggleGroup">
                                                        <mat-button-toggle value="last-week"></mat-button-toggle>
                                                        <mat-button-toggle value="this-week">per Node
                                                        </mat-button-toggle>
                                                    </mat-button-toggle-group>
                                                </div>
                                            </div>
                                            <div class="flex flex-col flex-auto mt-6">
                                                <apx-chart class="flex-auto w-full h-80"
                                                    [chart]="chartTaskDistribution.chart" [labels]="pieChartLabels"
                                                    [legend]="pieChartLegend"
                                                    [plotOptions]="chartTaskDistribution.plotOptions"
                                                    [series]="pieChartData" [states]="chartTaskDistribution.states"
                                                    [stroke]="chartTaskDistribution.stroke"
                                                    [theme]="chartTaskDistribution.theme"
                                                    [tooltip]="chartTaskDistribution.tooltip"
                                                    [yaxis]="chartTaskDistribution.yaxis"></apx-chart>
                                            </div>

                                        </div>
                                        <!-- Schedule -->


                                    </div>
                                    <br>
                                    <!-- Cluster details -->
                                    <div
                                        class="sm:col-span-6 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Cluster
                                            Details</div>
                                        <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
                                            <table class="min-w-240 overflow-y-visible" mat-table
                                                [dataSource]="total_resources">

                                                <!-- Type -->
                                                <ng-container matColumnDef="type" sticky>
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Node Name
                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        <span class="flex items-center">

                                                            <span class="ml-3 leading-4">{{resource[0]}}</span>
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <!-- Total -->
                                                <ng-container matColumnDef="total">
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Manager Status

                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        <span class="font-medium text-right">
                                                            {{resource[2]}} <mat-icon (click)="ChangeStatus(resource)">
                                                                import_export</mat-icon>
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <!-- Expenses amount -->
                                                <ng-container matColumnDef="expensesAmount">
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Total CPU Cores
                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        {{resource[3]}}
                                                    </td>
                                                </ng-container>

                                                <!-- Expenses percentage -->
                                                <ng-container matColumnDef="expensesPercentage">
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Total Memory (GB)
                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        {{resource[4]}}
                                                    </td>
                                                </ng-container>

                                                <!-- Remaining amount -->
                                                <ng-container matColumnDef="remainingAmount">
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Remaining CPU(%)
                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        <span class="flex items-center">
                                                            <span>
                                                                <!-- Low -->
                                                                <span
                                                                    class="flex items-end w-1 h-4 bg-red-200 rounded overflow-hidden"
                                                                    *ngIf="resource[4] < 20">
                                                                    <span class="flex w-full h-1/3 bg-red-600"></span>
                                                                </span>
                                                                <!-- High -->
                                                                <span
                                                                    class="flex items-end w-1 h-4 bg-green-100 rounded overflow-hidden"
                                                                    *ngIf="resource[4]>= 20">
                                                                    <span
                                                                        class="flex w-full h-full bg-green-400"></span>
                                                                </span>
                                                            </span>
                                                            <span class="ml-3 leading-4">{{resource[5]}}%</span>
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <!-- Remaining percentage -->
                                                <ng-container matColumnDef="remainingPercentage">
                                                    <th mat-header-cell *matHeaderCellDef>
                                                        Remaining Memory(%)
                                                    </th>
                                                    <td mat-cell *matCellDef="let resource">
                                                        <span class="flex items-center">
                                                            <span>
                                                                <!-- Low -->
                                                                <span
                                                                    class="flex items-end w-1 h-4 bg-red-200 rounded overflow-hidden"
                                                                    *ngIf="resource[5] < 20">
                                                                    <span class="flex w-full h-1/3 bg-red-600"></span>
                                                                </span>

                                                                <!-- High -->
                                                                <span
                                                                    class="flex items-end w-1 h-4 bg-green-100 rounded overflow-hidden"
                                                                    *ngIf="resource[5]>= 20">
                                                                    <span
                                                                        class="flex w-full h-full bg-green-400"></span>
                                                                </span>
                                                            </span>
                                                            <span class="ml-3 leading-4">{{resource[6]}}%</span>
                                                        </span>
                                                    </td>
                                                </ng-container>

                                                <tr mat-header-row *matHeaderRowDef="data.budgetDetails.columns"></tr>
                                                <tr mat-row *matRowDef="let row; columns: data.budgetDetails.columns;">
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                </ng-template>
                            </mat-tab>
                            <!-- Home -->
                            <mat-tab label="Container distribution">
                                <ng-template matTabContent>

                                    <!-- Section title -->
                                    <div class="w-full mt-12">
                                        <div class="text-2xl font-semibold tracking-tight leading-6">Containers
                                            Distribution</div>

                                    </div>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 w-full mt-6 md:mt-8 "
                                        style="text-align: center;">
                                        <!-- New vs. Returning -->

                                        <!-- Gender -->

                                        <!-- Age -->

                                        <!-- Language -->
                                        <div *ngFor="let node of nodes_info ; let i = index"
                                            class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden p-6 ">
                                            <div class="flex items-start justify-between center">
                                                <div class="text-lg font-medium tracking-tight leading-6 truncate">

                                                    <img style="height: 20px"
                                                        src="https://icons.iconarchive.com/icons/hopstarter/soft-scraps/256/Button-Blank-Green-icon.png">
                                                </div>
                                                <div class="ml-2">
                                                    <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                                                        [matMenuTriggerFor]="conversionMenu">
                                                        <span
                                                            class="font-medium text-sm text-secondary">{{node.name}}</span>
                                                    </button>

                                                </div>
                                            </div>

                                            <div class="mt-8">
                                                <div class="-my-3 divide-y">
                                                    <ng-container *ngFor="let con of node['containers'];let j = index">
                                                        <div class="grid grid-cols-2 py-3">
                                                            <div class="flex items-center">
                                                                <div class="flex-0 w-2 h-2 rounded-full"
                                                                    [style.backgroundColor]="colors[color[i]]">
                                                                </div>
                                                                <div class="ml-3 truncate">{{con}}
                                                                </div>
                                                            </div>
                                                            <div class="font-medium text-right">
                                                                {{node['priorities'][j]}}</div>
                                                           
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                            </mat-tab>
                            <!-- Resource Consumption Per Container -->

                            <mat-tab label="Execution time">
                                <ng-template matTabContent>
                                    <div class="  flex flex-col flex-auto p-6 bg-card rounded-2xl shadow">
                                        <div class="flex items-center">
                                            <div class="flex flex-col">
                                                <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate">
                                                    Execution Time per number of container</div>
                                            </div>

                                        </div>
                                        <div class="my-8 space-y-8">
                                            <div class="flex flex-col" *ngFor="let time of TimeExecdata; index as i">
                                                <div class="flex items-center">
                                                    <div
                                                        class="flex items-center justify-center w-14 h-14 rounded bg-{{colors[i]}}-100 text-{{colors[i]}}-800 dark:bg-{{colors[i]}}-600 dark:text-{{colors[i]}}-50">
                                                        <mat-icon class="text-current"
                                                            [svgIcon]="'heroicons_outline:view-boards'"></mat-icon>
                                                    </div>
                                                    <div class="flex-auto ml-4 leading-none">

                                                        <div class="mt-2 font-medium text-2xl">{{time[0]}} containers
                                                        </div>
                                                        <mat-progress-bar class="mt-3 rounded-full"
                                                            [color]="'colors[i]'" [mode]="'determinate'"
                                                            [value]="time[1]/0.5"></mat-progress-bar>
                                                    </div>
                                                    <div class="flex items-end justify-end min-w-18 mt-auto ml-6">
                                                        <div class="text-lg leading-none">{{time[1]}}</div>
                                                        <mat-icon class="text-green-600 icon-size-4 ml-1"
                                                            [svgIcon]="'heroicons_solid:arrow-narrow-down'"></mat-icon>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>

                                    </div>
                                </ng-template>
                            </mat-tab>


                        </mat-tab-group>
                    </div>
                </div>

            </div>